<!DOCTYPE html>
<html>

<head>
   <title>JavaScript Minute Timer</title>
      <style>
         button {
                  display: inline;
                }
      </style>
</head>

<body>

<button onclick = "location.reload(true);">RESET</button>

<br/><br/><br/>

<b style = "color:red;"> Audio Check. </b>
<button onclick = "document.getElementById('audiotag1').play();">Play Audio</button>
<button onclick = "location.reload(true);">Stop Audio</button>

<br/>

<audio id = "audiotag1" src = "YourSoundFile.mp4" preload = "auto"></audio>

<br/><br/>

<input type = "text" id = "input" size = "65" value = "Please Type Number (in minutes). Please press START">
<button onclick = "startCount();">START TIMER</button>
<button onclick = "stopCount()">PAUSE TIMER</button>                               

<br/><br/><br/>

<input type="text" id="counter" size = "4"> seconds

<br/><br/>

<input type="text" id="txt" size = "65">

<script>
  
/*
Used this method describe in this stackoverflow question
http://stackoverflow.com/questions/9419263/playing-audio-with-javascript

Specifically this website mentioned in answer by Shanabus
http://www.storiesinflight.com/html5/audio.html

Note: YourSoundFile.mp4 must be inserted in the same directory as this code.

Used code from w3schools. SetTimeout, ON/OFF.
https://www.w3schools.com/jsref/tryit.asp?filename=tryjsref_win_settimeout_cleartimeout2
*/

var c = 0;
var t;
var timer_is_on = 0;

function timedCount() {

    var Timer = document.getElementById("input");
    var TimerValue = Timer.value;

    var TimerText = document.getElementById("txt");
        TimerText.style.color = "red";
        
    TimerText.value = "Timer ends in " + TimerValue + " minute."

    // When counter reaches specified time. Play Audio File.
    if(c == TimerValue*60){
        return document.getElementById('audiotag1').play();
    }

    document.getElementById("counter").value = c;
    c = c + 1;
    t = setTimeout(function(){ timedCount() }, 1000);

}

function startCount() {

   if (!timer_is_on) {
        timer_is_on = 1;
        timedCount();
   }
}

function stopCount() {

    clearTimeout(t);
    timer_is_on = 0;
}

</script>
</body>
</html>
